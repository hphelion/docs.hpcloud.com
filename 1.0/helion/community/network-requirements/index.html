<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<!-- Mirrored from docs.hpcloud.com/helion/community/network-requirements/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Feb 2015 14:59:29 GMT -->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>HP Helion OpenStack&#174; Community Network Architecture and Configuration</title>
	
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="shortcut icon" href="../../../favicon.ico" type="image/vnd.microsoft.icon" />
  <link rel="stylesheet" href="../../../css/combined.css">

	<script src="../../../js/modernizr-2.5.3.min.js"></script>
	<script src="../../../js/metrics.js"></script> 
</head>
<body>
  <div id="wrapper">
    <!--[if lt IE 7]>
    	<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->
    <div class="header-container">
      <header class="header">
      	<div class="top-bar" style="height: 75px;">
		
      		<div class="search-wrapper wrapper container_16">
			
      			<a href="#" class="sales-rep show-320 show-480 hide-768"><span aria-hidden="true" class="icon-icon-sales-rep"></span></a>
      			<nav class="sub-nav" >
				<a href="../../../index.html" class="logo"  ><img src="../../../images/HP_Helion_logo_72.png" style="position: absolute;top: 10px;" alt="HP Helion" /></a>
        			<ul>
					
 

         
        				<li><a href="../../../../external.html?link=http://www8.hp.com/us/en/cloud/helion-portfolio.html">Helion@HP</a></li>
						<li><a href="../../../../external.html?link=https://h30580.www3.hp.com/">Support</a></li>
        				<li><a href="mailto:heliondocs@hp.com">Contact</a></li>
						
        				 
        			</ul>
      			</nav>
          </div>
      	</div>
		<!-- per JC
      	<div class="nav-wrapper wrapper container_16">
        	<a href="http://www.hpcloud.com/" class="logo"><img src="/images/HP_Helion_logo_72.png" alt="HP Helion" /></a>
      		<nav class="nav hide-320 show-768">
      			<ul>
      				<li><a href="http://hpcloud.com/products-services">Products <span>& Services</span></a></li>
      				<li><a href="http://hpcloud.com/solutions">Cloud <span>Solutions</span></a></li>
      				<li><a href="http://hpcloud.com/why-hp-cloud">Why HP <span>Cloud?</span></a></li>
      				<li><a href="http://hpcloud.com/learning-center">Learning <span>Center</span></a></li>
      				<li><a href="http://hpcloud.com/blog">The <span>Blog</span></a></li>
      				<li><a href="http://hpcloud.com/free-trial">Sign Up <span>Today</span></a></li>
      			</ul>
      		</nav>
      	</div>
		-->
      </header>
    </div>
		<div id="main-container">
			<div id="main" class="wrapper clearfix container_16">
				<div id="content" class="grid_10 suffix_1">
	<article>
		<!--PUBLISHED-->

<script>
<![CDATA[

function PageRefresh {
onLoad="window.refresh"
}

PageRefresh();

]]>
</script><!--
<p style="font-size: small;"> <a href="/helion/community/">&#9664; PREV</a> | <a href="/helion/community/">&#9650; UP</a> | <a href="/helion/community/install-overview/">NEXT &#9654;</a> </p>
--><h1 id="hp-helion-openstack-community-network-architecture-and-configuration----baremetal-installations-only">HP Helion OpenStack® Community Network Architecture and Configuration -- Baremetal Installations Only</h1>

<p>This page provides an overview of important information on the network configuration required for a baremetal HP Helion OpenCloud Community edition installation.</p>

<p>For virtual installations, the installation simulates the deployment of OpenStack by creating and configuring a set of virtual machines (VMs) on a single system. As such, no manual network configuration is required.</p>

<ul><li><a href="#physical-network-architecture">Physical network architecture</a></li>
<li><a href="#config">Network configuration for a baremetal installation</a>

<ul><li><a href="#NetworkDefault">Network defaults</a></li>
<li><a href="#changedefault">Changing the default networking configuration</a> </li>
</ul></li>
</ul><h2 id="physical-network-architecture">Physical network architecture</h2>

<p>The table in this section provides an overview of the physical network configuration requirements you must meet, with the following assumptions:</p>

<ul><li><p>Physical network ports on each server:</p>

<ul><li>One IPMI/iLO port</li>
<li>One physical ethernet port (for example, eth0) for the hypervisor/OS</li>
</ul></li>
<li><p>Network fabric</p>

<ul><li>Two physical links, one for IPMI/iLO and one for the hypervisor/OS</li>
<li>Network switches capable of basic VLAN, L2 and L3 functions; no dependency on, for example, VxLAN-capable or OpenFlow-enabled switch</li>
</ul></li>
<li><p>The physical hypervisor/OS network is shared by a number of logical networks, and each logical network has its own VLAN and IP subnet.</p></li>
<li>The seed VM, the baremetal systems, and the BMC (IPMI controller) for all
baremetal systems must be on a common network.</li>
</ul><!--
For detailed information, see the [Reference architecture](/helion/community//reference-architecture/).
--><table style="text-align: left; vertical-align: top; width:700px;">
  <tr style="background-color: #C8C8C8;"><th> Network </th>
<th> Description </th>
<th> VLAN type </th>
<th> Server port </th>

</tr>
  <tr style="background-color: white; color: black;"><td> IPMI / iLO </td>
<td> Network for server hardware management </td>
<td> Untagged </td>
<td> IPMI or iLO</td>

</tr>
  <tr style="background-color: white; color: black;"><td> Undercloud management </td>
<td> <ul><li>Traffic for undercloud internal OpenStack calls, Glance image downloads, etc.</li>
<li>Provides access to undercloud API endpoints</li>
<li>Used to PXE boot overcloud servers</li>
</ul></td>
<td> Untagged </td>
<td> eth0</td>

</tr>
  <tr style="background-color: white; color: black;"><td> Overcloud management </td>
<td> Traffic for overcloud internal OpenStack calls, glance image downloads, etc. </td>
<td> Tagged </td>
<td> eth0</td>

</tr>
  <tr style="background-color: white; color: black;"><td> SDN </td>
<td> Network between workload VMs, e.g. carries VxLAN traffic </td>
<td> Tagged </td>
<td> eth0</td>

</tr>
  <tr style="background-color: white; color: black;"><td> Storage </td>
<td> iSCSi traffic between VMs and storage products like StoreVirtual </td>
<td> Tagged </td>
<td> eth0</td>

</tr>
  <tr style="background-color: white; color: black;"><td> External </td>
<td><ul><li> Connected to internet or intranet</li>
<li>Provides floating IPs</li></ul></td>
<td> Tagged </td>
<td> eth0</td>

</tr>
  <tr style="background-color: white; color: black;"><td> External-API </td>
<td> <ul><li>Connected to internet or intranet</li>
<li>Provides access to overcloud API endpoints</li></ul></td>
<td> Tagged </td>
<td> eth0</td>

</tr>
  <tr style="background-color: white; color: black;"><td> Swift </td>
<td> Communication between swift servers (includes user data)  </td>
<td> Tagged </td>
<td> eth0</td>

</tr>
</table><h2 id="config">Network configuration</h2>

<p>Make sure your network is configured to include the following criteria:</p>

<ul><li><p>The seed VM, the baremetal systems and the IPMI controller for all systems must be on the same network.</p></li>
<li><p>Any network interfaces that are not used for PXE boot must be disabled from BIOS to prevent PXE boot attempts from those devices.</p></li>
<li><p>Any DHCP servers on the same network as your system must not hand out IP addresses to your physical nodes as they PXE boot.</p></li>
<li><p>Make sure there is no wildcard DHCP server on your network. The wildcard DHCP server will likely reply to the booting under/overcloud servers before the seed VM, which will cause the PXE boot process to fail.</p></li>
<li><p>The network interface intended as the bridge interface should be configured and working before running the installer. The installer creates a network bridge on the system running the installer, attaching the bridge interface to the network bridge. The installer uses the IP address of the bridge interface for the network bridge.</p></li>
<li><p>The IPMI/BMC interfaces of the real hardware must be accessible from the seed VM.</p></li>
</ul><h3 id="NetworkDefault">Network defaults</h3>

<p>The installation process includes a number of default configurations. You can change many of these defaults during the installation, using the steps detailed in <a href="../install/index.html">Community Baremetal Installation and Configuration</a>.</p>

<p>Note the following default settings:</p>

<ul><li>The default network configuration uses a single subnet 192.0.2.0/24 for all networking. </li>
<li>The Seed VM is assigned an IP address of 192.0.2.1, in addition to the IP address assigned by the <a href="#packages">libvirt package</a>. </li>
<li>The external interface of host of the seed VM is added to a software bridge, called <em>brbm</em>, on the host and the IP address of the external interface is transferred to the bridge. This allows external traffic on 192.0.2.0/24 to be routed to the seed VM.</li>
<li>The seed VM is the gateway for all traffic outside the baremetal network.</li>
<li><p>IP addresses are assigned by default as follows:</p>

<ul><li>192.0.2.2-192.0.2.20 is used by the seed cloud to administer the undercloud nodes</li>
<li>192.0.2.21-192.0.2.124 is used by the undercloud to administer the overcloud nodes</li>
<li>192.0.2.129-1920.0.2.254 is used as a pool of addresses for floating IPs for the virtual machines in the overcloud.</li>
</ul></li>
<li><p>The IP address range for the private IPs assigned to new virtual instances is 10.0.0.0/8.</p></li>
</ul><h3 id="changedefault">Changing the default networking configuration</h3>

<p>In the default configuration, the default pool of floating IP addresses for the overcloud is within the baremetal subnet. You can select a different pool of addresses during the installation. If you select a pool of addresses outside the baremetal subnet, make sure those addresses are accessible.</p>

<p>
  <strong>Example:</strong>
</p>

<p>The following example shows how to select a range of IP addresses from 10.23.144.10 to 10.23.151.254 with a subnet mask of 10.23.144.0/21. To avoid overlap with the default private network range of 10.0.0.0/8, <code>OVERCLOUD_FIXED_RANGE_CIDR</code> is changed to 10.0.0.0/16.</p>

<p>During the <a href="../install/index.html">installation</a> you must set <code>OVERCLOUD_NeutronPublicInterface</code> to the name of the VLAN on which the floating IP addresses will reside (you must create this VLAN separately).</p>

<pre>
  <code>export FLOATING_START=10.23.144.10
export FLOATING_END=10.23.151.254
export FLOATING_CIDR=10.23.144.0/21
export OVERCLOUD_FIXED_RANGE_CIDR=10.0.0.0/16
export OVERCLOUD_NeutronPublicInterface=vlan1515
export NeutronPublicInterfaceRawDevice=eth0
export OVERCLOUD_VIRTUAL_INTERFACE=eth0
</code>
</pre>

<p>This example assumes a homogeneous overcloud compute hardware.</p>

<p><strong>Important:</strong> IP addresses in the ranges chosen for the undercloud and overcloud must not be used by other nodes
on your network.</p>

<h2 id="next-step">Next Step</h2>

<p>Proceed to the installation in <a href="../install/index.html">Community Baremetal Installation and Configuration</a></p>

<p>
  <a href="#top" style="padding:14px 0px 14px 0px; text-decoration: none;"> Return to Top ↑ </a>
</p>

<hr />
	</article>
</div>

<div id="sidebar" class="grid_5 top-spacer">
	<aside class="signup-box">
		<p class="align-center">
			Start using HP Cloud<br>
			<a href="../../../../external.html?link=https://helion.hpwsportal.com/#/Home/Show" class="signup-button-orange gutter-top-half">Sign Up Now</a>
		</p>
	</aside>
	<aside class="box section-navigation">
  
     
  
  <ul>
    
      
      
      <li>
        <a class="" href="../../../index.html"><span>HP Helion Documentation</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../index.html"><span>HP Helion OpenStack Community Documentation Home</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../release-notes/index.html"><span>Release Notes</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../faq/index.html"><span>FAQ</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../install-overview/index.html"><span>Installation & Configuration</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../related-links/index.html"><span>Related Documentation</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../3rd-party-license-agreements/index.html"><span>Open Source and Third-Party Software License Agreements</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../eula/index.html"><span>End User License Agreement</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../siteindex/index.html"><span>Site Index</span></a>
      </li>
    
  </ul>
</aside>
</div>

			</div> <!-- #main -->
		</div> <!-- #main-container -->
	</div> <!-- #wrapper -->

		
  <footer class="footer">
    <div class="container_16">
    	<div class="wrapper grid_16">
    		<ul class="footer-social">
    			<li class="twitter"><a href="../../../../external.html?link=https://twitter.com/hphelioncloud"></a></li>
    			<li class="youtube"><a href="../../../../external.html?link=http://www.youtube.com/hpcloud"></a></li>
    			<li class="rss"><a href="../../../../external.html?link=http://h30499.www3.hp.com/hpeb/rss/board?board.id=sws-661"></a></li>
    			<li class="facebook"><a href="../../../../external.html?link=https://www.facebook.com/HPCloud"></a></li>
    			<li class="linkedin stretch"><a href="../../../../external.html?link=https://www.linkedin.com/company/hewlett-packard"></a></li>
    		</ul>
    		<ul class="contact-info">
    			<li>In the U.S.<br />1-855-61CLOUD</li>
    			<li>Worldwide<br />+1678-745-9010</li>
    			<li class="col-3">Online Support<br /><a href="mailto:support@hpcloud.com">Email</a> 
				<!-- comment out per JC
				or <span class="link" onclick="jQuery('#hpcloud-chat-button a').click();">Chat with us</span>
				-->
				</li>
    		</ul>
    		<div class="copyright">
    			<p>The OpenStack&reg; Word Mark and OpenStack Logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.</p><br />
    			<p>&copy; 2014 Hewlett-Packard Development Company, L.P.<br /><a href="../../../../external.html?link=http://www.hpcloud.com/legal-documents">HP Cloud legal documents and privacy policy</a></p>
    		</div>
    	</div>
    </div>
  </footer>

	<script src="../../../../ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="../../../../ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../../js/jquery-1.8.2f.min.html"><\/script>')</script>

  <script src="../../../js/combined.js"></script>
  <script>
      __HP_CHAT_CONF = {};
      __HP_CHAT_CONF.sales = true;
      __HP_CHAT_CONF.support = true;
    </script>
	
    <script> //removed per JC
    //(function($, window) {
    //    $(window).load(function() {
    //    var sNew = document.createElement("script");
    //  sNew.async = true;
    //sNew.src = 'https://a248.e.akamai.net/cdn.hpcloudsvc.com/gcbb18d905d32174e6eb205943b0dea4a/prodae1/chat.js';
    //var s0 = document.getElementsByTagName('script')[0];
    //s0.parentNode.insertBefore(sNew, s0);
    //});
    //})(jQuery, this);
    </script>
    <script>
        //Executes your code when the DOM is ready.  Acts the same as $(document).ready().
        function styleRestCmds() {
            $("h5:contains('GET')").addClass('rest_cmd cmd_get');
            $("h5:contains('POST')").addClass('rest_cmd cmd_post');
            $("h5:contains('FormPOST')").removeClass('rest_cmd cmd_post');
            $("h5:contains('PUT')").addClass('rest_cmd cmd_put');
            $("h5:contains('COPY')").addClass('rest_cmd cmd_copy');
            $("h5:contains('PATCH')").addClass('rest_cmd cmd_patch');
            $("h5:contains('HEAD')").addClass('rest_cmd cmd_head');
            $("h5:contains('DELETE')").addClass('rest_cmd cmd_delete');
        }

        $(function() {
            //Calls the tocify method on your HTML div.
            $("#toc").tocify({
                'selectors': 'h2,h3,h4',
                'showAndHideOnScroll': false,
                'hideEffect': 'slideUp',
                'scrollTo': 55    // Amount of space between top of page and selected content
              }
            );
            // Style the REST commands
            styleRestCmds();
        });
    </script>
</body>

<!-- Mirrored from docs.hpcloud.com/helion/community/network-requirements/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Feb 2015 14:59:29 GMT -->
</html>

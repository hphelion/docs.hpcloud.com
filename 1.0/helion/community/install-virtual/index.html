<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<!-- Mirrored from docs.hpcloud.com/helion/community/install-virtual/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Feb 2015 14:59:27 GMT -->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>HP Helion OpenStack&#174; Community Virtual Installation and Configuration</title>
	
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="shortcut icon" href="../../../favicon.ico" type="image/vnd.microsoft.icon" />
  <link rel="stylesheet" href="../../../css/combined.css">

	<script src="../../../js/modernizr-2.5.3.min.js"></script>
	<script src="../../../js/metrics.js"></script> 
</head>
<body>
  <div id="wrapper">
    <!--[if lt IE 7]>
    	<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->
    <div class="header-container">
      <header class="header">
      	<div class="top-bar" style="height: 75px;">
		
      		<div class="search-wrapper wrapper container_16">
			
      			<a href="#" class="sales-rep show-320 show-480 hide-768"><span aria-hidden="true" class="icon-icon-sales-rep"></span></a>
      			<nav class="sub-nav" >
				<a href="../../../index.html" class="logo"  ><img src="../../../images/HP_Helion_logo_72.png" style="position: absolute;top: 10px;" alt="HP Helion" /></a>
        			<ul>
					
 

         
        				<li><a href="../../../../external.html?link=http://www8.hp.com/us/en/cloud/helion-portfolio.html">Helion@HP</a></li>
						<li><a href="../../../../external.html?link=https://h30580.www3.hp.com/">Support</a></li>
        				<li><a href="mailto:heliondocs@hp.com">Contact</a></li>
						
        				 
        			</ul>
      			</nav>
          </div>
      	</div>
		<!-- per JC
      	<div class="nav-wrapper wrapper container_16">
        	<a href="http://www.hpcloud.com/" class="logo"><img src="/images/HP_Helion_logo_72.png" alt="HP Helion" /></a>
      		<nav class="nav hide-320 show-768">
      			<ul>
      				<li><a href="http://hpcloud.com/products-services">Products <span>& Services</span></a></li>
      				<li><a href="http://hpcloud.com/solutions">Cloud <span>Solutions</span></a></li>
      				<li><a href="http://hpcloud.com/why-hp-cloud">Why HP <span>Cloud?</span></a></li>
      				<li><a href="http://hpcloud.com/learning-center">Learning <span>Center</span></a></li>
      				<li><a href="http://hpcloud.com/blog">The <span>Blog</span></a></li>
      				<li><a href="http://hpcloud.com/free-trial">Sign Up <span>Today</span></a></li>
      			</ul>
      		</nav>
      	</div>
		-->
      </header>
    </div>
		<div id="main-container">
			<div id="main" class="wrapper clearfix container_16">
				<div id="content" class="grid_10 suffix_1">
	<article>
		<!--PUBLISHED-->

<script>
<![CDATA[

function PageRefresh {
onLoad="window.refresh"
}

PageRefresh();

]]>
</script><!--
<p style="font-size: small;"> <a href="/helion/community/install/">&#9664; PREV</a> | <a href="/helion/community/install-overview/">&#9650; UP</a> | <a href="/helion/community/">NEXT &#9654;</a> </p>
--><h1 id="hp-helion-10-openstack-community-virtual-installation-and-configuration">HP Helion 1.0 OpenStack® Community Virtual Installation and Configuration</h1>

<p>This page provides instructions on how to perform a virtual installation of HP Helion OpenStack Community onto a suitably specified and prepared single server. This cloud-in-a-box is designed to let you test the functionality of HP Helion OpenStack Community. It is not intended to be used in a production environment to run real workloads; therefore, no support is available.</p>

<p>It is important to read through this page before starting your installation. Before you begin your installation, we recommend you review the complete <a href="../hwsw-requirements/index.html">Hardware and Software Requirements</a> page. Note, however, that we have included the basic requirements on this page.</p>

<ul><li><p><a href="#hardware-and-network-requirements">Installation requirements</a></p>

<ul><li><a href="#hardware">Hardware requirements</a></li>
<li><a href="#software">Software requirements</a></li>
</ul></li>
<li><p><a href="#before-you-begin">Before you begin</a></p></li>
<li><p><a href="#install-notes">About the installation process</a></p></li>
<li><p><a href="#install">Installing HP Helion OpenStack Community</a></p>

<ul><li><a href="#getinstall">Downloading and unpacking installation file</a></li>
<li><a href="#startvm">Starting the seed VM</a></li>
<li><a href="#startclouds">Starting the undercloud, overcloud and test guest VM</a></li>
</ul></li>
</ul><h2 id="hardware-and-network-requirements">Installation requirements</h2>

<p>Before starting the installation, make sure your hardware and software the minimum requirements and are properly configured.</p>

<h3 id="virtual">Hardware and system requirements</h3>

<p>TripleO creates several large VMs as part of this virtual deployment process, make sure you meet the hardware requirements described in <a href="../hwsw-requirements/index.html">Community Hardware and Software Requirements</a>.</p>

<h3 id="software">Software requirements</h3>

<p>To ensure a successful installation, you must meet the software requirements described in the <a href="../hwsw-requirements/index.html#software">Software configuration</a> section in Community Hardware and Software Requirements.</p>

<h2 id="before-you-begin">Before you begin</h2>

<p>Before you begin the installation process, ensure you have read the following and completed any required tasks:</p>

<ul><li><a href="#pub-key">Obtaining a public key</a></li>
<li><a href="#name-resolution">Set DNS servers by default</a></li>
<li><a href="#install-notes">About the installation process</a></li>
</ul><h3 id="pub-key">Obtain a public key</h3>

<p>Before you begin the installation process, the root user must have private and public RSA keys. You can determine this by issuing the following commands:</p>

<ol><li><p>Log in as root:</p>

<pre><code>sudo su -
</code></pre></li>
<li><p>Determine if .ssh/id_rsa exists:</p>

<pre><code>ls -l ~root/.ssh/id_rsa
</code></pre>

<p>NOTE: The output should look like the example below:</p>

<pre><code>drwxr-x--- . 4096 May 11 09:23
-rwxr-x--- ..4096 May 11 09:23
-rwxr-x--- id_rsa1455 May 11 09:24
-rwxr-x--- id_rsa.pub 1455 May 11 09:24
</code></pre></li>
<li><p>If the key does not exist, create one, omitting a passphrase and accepting the defaults by pressing Enter:</p>

<pre><code>ssh-keygen -t rsa
</code></pre></li>
</ol><h3 id="name-resolution">Set DNS servers by default</h3>

<p>To set a default DNS name server for your HP Helion OpenStack Community cloud, refer to <a href="../name-resolution/index.html">Enabling name resolution from tenant VMs in the overcloud</a> before installation.</p>

<h2 id="install-notes">About the installation process</h2>

<p>There are a few things you should be aware of before you begin your HP Helion OpenStack Community virtual installation.</p>

<ul><li><p>The install will run until the demo completes loading the demo VM.</p></li>
<li><p>There are stalls loading images (1-2 mins) and building the undercloud (12 or more mins) and overcloud (at least that again).</p></li>
<li><p>There are no restrictions imposed on external device name on the host system in virtual mode as the external interface is not used.</p></li>
<li><p>Filesystem checking on reboot is disabled by default for the seed, undercloud and overcloud nodes. We recommend periodically manually running fsck to verify filesystem integrity.</p></li>
</ul><h2 id="install">Installing HP Helion OpenStack Community</h2>

<p>Once you have met all of the hardware requirements and have completed the required tasks, you can begin your installation.</p>

<p>In the event you have trouble with the installation, review the <a href="../troubleshooting/index.html">Issues and troubleshooting</a> and <a href="../faq/index.html">FAQ</a> pages.</p>

<h3 id="getinstall">Unpacking the installation file</h3>

<p>The virtual installation of HP Helion OpenStack Community for a single server is provided as a compressed TAR file. This is a large file because it contains all of the machine images required for the seed VM, the undercloud, the overcloud, and a guest VM image.</p>

<p><strong>Note:</strong> This install file does not fit on a memory stick formatted as FAT32. If you are planning to store the installation files on removable media, use something like NTFS.</p>

<p>To begin the installation:</p>

<ol><li><p>Log in to your system as root.</p>

<pre><code>$ sudo su -
</code></pre></li>
<li><p>Register and then log in to download the HP Helion OpenStack Community virtual package from this site:</p>

<p><a href="../../../../external.html?link=https://helion.hpwsportal.com/#/Product/%7B%22productId%22%3A%221320%22%7D/Show">HP Helion OpenStack Community Edition Installation Package</a></p>

<p>The download file is named: <code>Helion_Openstack_Community_V1.4.tar.gz</code></p></li>
<li><p>In the root user's home directory, create the <code>work</code> directory and extract the installation software to the <code>work</code> directory:</p>

<pre><code>mkdir work
cd /work
tar zxvf /{full path to downloaded file from step 2}/Helion_Openstack_Community_V1.4.tar.gz
</code></pre></li>
</ol><p>This creates and populates a <code>tripleo/</code> directory within the <strong>root/work/</strong> directory.</p>

<h3 id="startvm">Starting the seed VM</h3>

<p>Start the seed VM using the following command:</p>

<pre>
  <code>HP_VM_MODE=y bash -x ~root/work/tripleo/tripleo-incubator/scripts/hp_ced_host_manager.sh --create-seed
</code>
</pre>

<p>The process of starting the seed takes approximately ten minutes, depending on the capabilities of your system, and there are numerous logging messages generated by the script. The first time the script is run, it checks for and attempts to install any missing required packages, as described in <a href="../hwsw-requirements/index.html#software">Software configuration</a> section in Community Hardware and Software Requirements. If you are prompted, accept all package installations.</p>

<p>When the seed VM install completes, a message similar to the following is displayed:</p>

<pre>
  <code>Wed Oct 23 11:25:10 UTC 2014 --- completed setup seed
</code>
</pre>

<p><strong>Note:</strong> The seed VM continues its self-initialization after the startup script has terminated.</p>

<h3 id="startclouds">Starting the undercloud, overcloud, and test guest VM</h3>

<p>This section explains how to deploy and configure the undercloud and overcloud, and to start a demo VM in the overcloud compute node.</p>

<ol><li><p>Log in to the seed VM; it might take a few moments for the VM to become reachable:</p>

<pre><code>ssh 192.0.2.1
</code></pre></li>
<li><p>Set the following environment variables:</p>

<p><code>OVERCLOUD_NTP_SERVER</code> - Use this variable to set the IP address of an NTP server accessible on the public interface for overcloud hosts.</p>

<p><strong>Example:</strong></p>

<pre><code>export OVERCLOUD_NTP_SERVER=192.0.1.128
</code></pre>

<p><code>UNDERCLOUD_NTP_SERVER</code> - Use this variable to set the IP address of an NTP server accessible on the public interface for undercloud hosts.</p>

<p><strong>Example:</strong></p>

<pre><code>export UNDERCLOUD_NTP_SERVER=192.0.1.128
</code></pre>

<p><code>OVERCLOUD_NEUTRON_DVR</code> - Use this variable to disable Distributed Virtual Routers (DVR). By default, the overcloud is configured for Distributed Virtual Routers. You can disable DVR by setting the value to 'False'.</p>

<p><strong>Example:</strong></p>

<pre><code>export OVERCLOUD_NEUTRON_DVR=False
</code></pre>

<p><strong>Note:</strong> The environment variable <code>NeutronPublicInterfaceIP</code> is no longer supported. The install will exit with an error message if this variable is set.</p></li>
<li><p>Start the deployment of the undercloud and overcloud:</p>

<pre><code>cd /root
bash -x /root/tripleo/tripleo-incubator/scripts/hp_ced_installer.sh
</code></pre>

<p>This script waits, if necessary, for the seed to complete its initialization. Then, it creates, images, and starts the VMs for the undercloud and overcloud, as well as create a test guest VM in the overcloud. This takes approximately 10 minutes and includes pauses while services and VMs are set up in the background.</p>

<p>When the deployment completes, a message similar to the following is displayed:</p>

<pre><code>HP - completed -Wed Oct 23 16:20:02 UTC 2014
</code></pre></li>
</ol><h2 id="next-step">Next Step</h2>

<p>Verify that the installation completed successfully by connecting to the demo VM, Horizon dashboard and the monitoring interface. See <a href="../verify/index.html">Verifying your installation</a>.</p>

<p>
  <a href="#top" style="padding:14px 0px 14px 0px; text-decoration: none;"> Return to Top ↑ </a>
</p>

<hr />
	</article>
</div>

<div id="sidebar" class="grid_5 top-spacer">
	<aside class="signup-box">
		<p class="align-center">
			Start using HP Cloud<br>
			<a href="../../../../external.html?link=https://helion.hpwsportal.com/#/Home/Show" class="signup-button-orange gutter-top-half">Sign Up Now</a>
		</p>
	</aside>
	<aside class="box section-navigation">
  
     
  
  <ul>
    
      
      
      <li>
        <a class="" href="../../../index.html"><span>HP Helion Documentation</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../index.html"><span>HP Helion OpenStack Community Documentation Home</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../release-notes/index.html"><span>Release Notes</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../faq/index.html"><span>FAQ</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../install-overview/index.html"><span>Installation & Configuration</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../related-links/index.html"><span>Related Documentation</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../3rd-party-license-agreements/index.html"><span>Open Source and Third-Party Software License Agreements</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../eula/index.html"><span>End User License Agreement</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../siteindex/index.html"><span>Site Index</span></a>
      </li>
    
  </ul>
</aside>
</div>

			</div> <!-- #main -->
		</div> <!-- #main-container -->
	</div> <!-- #wrapper -->

		
  <footer class="footer">
    <div class="container_16">
    	<div class="wrapper grid_16">
    		<ul class="footer-social">
    			<li class="twitter"><a href="../../../../external.html?link=https://twitter.com/hphelioncloud"></a></li>
    			<li class="youtube"><a href="../../../../external.html?link=http://www.youtube.com/hpcloud"></a></li>
    			<li class="rss"><a href="../../../../external.html?link=http://h30499.www3.hp.com/hpeb/rss/board?board.id=sws-661"></a></li>
    			<li class="facebook"><a href="../../../../external.html?link=https://www.facebook.com/HPCloud"></a></li>
    			<li class="linkedin stretch"><a href="../../../../external.html?link=https://www.linkedin.com/company/hewlett-packard"></a></li>
    		</ul>
    		<ul class="contact-info">
    			<li>In the U.S.<br />1-855-61CLOUD</li>
    			<li>Worldwide<br />+1678-745-9010</li>
    			<li class="col-3">Online Support<br /><a href="mailto:support@hpcloud.com">Email</a> 
				<!-- comment out per JC
				or <span class="link" onclick="jQuery('#hpcloud-chat-button a').click();">Chat with us</span>
				-->
				</li>
    		</ul>
    		<div class="copyright">
    			<p>The OpenStack&reg; Word Mark and OpenStack Logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.</p><br />
    			<p>&copy; 2014 Hewlett-Packard Development Company, L.P.<br /><a href="../../../../external.html?link=http://www.hpcloud.com/legal-documents">HP Cloud legal documents and privacy policy</a></p>
    		</div>
    	</div>
    </div>
  </footer>

	<script src="../../../../ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="../../../../ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../../js/jquery-1.8.2f.min.html"><\/script>')</script>

  <script src="../../../js/combined.js"></script>
  <script>
      __HP_CHAT_CONF = {};
      __HP_CHAT_CONF.sales = true;
      __HP_CHAT_CONF.support = true;
    </script>
	
    <script> //removed per JC
    //(function($, window) {
    //    $(window).load(function() {
    //    var sNew = document.createElement("script");
    //  sNew.async = true;
    //sNew.src = 'https://a248.e.akamai.net/cdn.hpcloudsvc.com/gcbb18d905d32174e6eb205943b0dea4a/prodae1/chat.js';
    //var s0 = document.getElementsByTagName('script')[0];
    //s0.parentNode.insertBefore(sNew, s0);
    //});
    //})(jQuery, this);
    </script>
    <script>
        //Executes your code when the DOM is ready.  Acts the same as $(document).ready().
        function styleRestCmds() {
            $("h5:contains('GET')").addClass('rest_cmd cmd_get');
            $("h5:contains('POST')").addClass('rest_cmd cmd_post');
            $("h5:contains('FormPOST')").removeClass('rest_cmd cmd_post');
            $("h5:contains('PUT')").addClass('rest_cmd cmd_put');
            $("h5:contains('COPY')").addClass('rest_cmd cmd_copy');
            $("h5:contains('PATCH')").addClass('rest_cmd cmd_patch');
            $("h5:contains('HEAD')").addClass('rest_cmd cmd_head');
            $("h5:contains('DELETE')").addClass('rest_cmd cmd_delete');
        }

        $(function() {
            //Calls the tocify method on your HTML div.
            $("#toc").tocify({
                'selectors': 'h2,h3,h4',
                'showAndHideOnScroll': false,
                'hideEffect': 'slideUp',
                'scrollTo': 55    // Amount of space between top of page and selected content
              }
            );
            // Style the REST commands
            styleRestCmds();
        });
    </script>
</body>

<!-- Mirrored from docs.hpcloud.com/helion/community/install-virtual/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Feb 2015 14:59:27 GMT -->
</html>

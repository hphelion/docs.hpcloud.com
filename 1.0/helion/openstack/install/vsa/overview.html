<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<!-- Mirrored from docs.hpcloud.com/helion/openstack/install/vsa/overview by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Feb 2015 15:04:20 GMT -->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>HP Helion OpenStack Edition: VSA Support</title>
	
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="shortcut icon" href="../../../../favicon.ico" type="image/vnd.microsoft.icon" />
  <link rel="stylesheet" href="../../../../css/combined.css">

	<script src="../../../../js/modernizr-2.5.3.min.js"></script>
	<script src="../../../../js/metrics.js"></script> 
</head>
<body>
  <div id="wrapper">
    <!--[if lt IE 7]>
    	<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->
    <div class="header-container">
      <header class="header">
      	<div class="top-bar" style="height: 75px;">
		
      		<div class="search-wrapper wrapper container_16">
			
      			<a href="#" class="sales-rep show-320 show-480 hide-768"><span aria-hidden="true" class="icon-icon-sales-rep"></span></a>
      			<nav class="sub-nav" >
				<a href="../../../../index.html" class="logo"  ><img src="../../../../images/HP_Helion_logo_72.png" style="position: absolute;top: 10px;" alt="HP Helion" /></a>
        			<ul>
					
 

         
        				<li><a href="../../../../../external.html?link=http://www8.hp.com/us/en/cloud/helion-portfolio.html">Helion@HP</a></li>
						<li><a href="../../../../../external.html?link=https://h30580.www3.hp.com/">Support</a></li>
        				<li><a href="mailto:heliondocs@hp.com">Contact</a></li>
						
        				 
        			</ul>
      			</nav>
          </div>
      	</div>
		<!-- per JC
      	<div class="nav-wrapper wrapper container_16">
        	<a href="http://www.hpcloud.com/" class="logo"><img src="/images/HP_Helion_logo_72.png" alt="HP Helion" /></a>
      		<nav class="nav hide-320 show-768">
      			<ul>
      				<li><a href="http://hpcloud.com/products-services">Products <span>& Services</span></a></li>
      				<li><a href="http://hpcloud.com/solutions">Cloud <span>Solutions</span></a></li>
      				<li><a href="http://hpcloud.com/why-hp-cloud">Why HP <span>Cloud?</span></a></li>
      				<li><a href="http://hpcloud.com/learning-center">Learning <span>Center</span></a></li>
      				<li><a href="http://hpcloud.com/blog">The <span>Blog</span></a></li>
      				<li><a href="http://hpcloud.com/free-trial">Sign Up <span>Today</span></a></li>
      			</ul>
      		</nav>
      	</div>
		-->
      </header>
    </div>
		<div id="main-container">
			<div id="main" class="wrapper clearfix container_16">
				<div id="content" class="grid_10 suffix_1">
	<article>
		<!--PUBLISHED-->

<script>
<![CDATA[

function PageRefresh {
onLoad="window.refresh"
}

PageRefresh();

]]>
</script><h1 id="hp-helion-openstack-10-cinder-block-storage-using-hp-storevirtual-vsa">HP Helion OpenStack® 1.0 Cinder Block Storage Using HP StoreVirtual VSA</h1>

<p>HP Helion OpenStack bundles and facilitates deployment of HP StoreVirtual VSA which can be configured as backend for OpenStack Cinder Block Storage.</p>

<p>This page provides detailed information on using HP StoreVirtual VSA for realizing cloud storage.</p>

<ul><li><a href="#StoreVirtual-overview">HP StoreVirtual VSA overview</a> </li>
<li><a href="#cinder-architecture">Cinder Architecture</a>

<ul><li><a href="#cinder-api">Cinder API</a></li>
<li><a href="#scheduler">Scheduler</a></li>
<li><a href="#cinder-volume">Cinder volume and Lefthand driver</a>  </li>
<li><a href="#differentiated-storage-offerings">Differentiated storage offerings</a></li>
</ul></li>
<li><a href="#scale-out-vsa">Scale Out Cinder Block storage with StoreVirtual VSA</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul><h2 id="StoreVirtual-overview">HP StoreVirtual VSA overview</h2>

<p>HP StoreVirtual VSA Software is a Virtual Storage Appliance that provides the complete array functionality on top of Linux KVM environment without an external 
array hardware. It transforms your server's internal or direct-attached storage into a fully featured shared storage array&amp;mdashwithout the cost and complexity 
associated with dedicated storage. HP StoreVirtual VSA uses scale-out, distributed clustering to provide a pool of storage with enterprise storage features and simple management.</p>

<p>Multiple StoreVirtual systems running on different servers create a clustered pool of storage with the ability to make data highly available by 
protecting volumes with network RAID. A logical grouping of clusters is done in order to form a unit and is called a management group. Each cluster can be treated as storage node by hypervisor and is accessed using VIP (virtual IP).</p>

<p>With Network RAID, blocks of data are striped and mirrored across multiple StoreVirtual systems, allowing volumes and applications to stay online in the event of disk, storage subsystem or server failure. iSCSI connectivity on HP StoreVirtual VSA, support the use of the storage pools by cloud instances.
A single management group can contain up to 32 StoreVirtual nodes - grouped into clusters. A single cluster comprises 1 to 16 StoreVirtual nodes. Each management group can optimally manage a maximum of 1500 volumes.</p>

<p>HP Helion OpenStack supports multiple clusters. For minimal deployment, you can create a management group with one cluster and with a single StoreVirtual node on it.</p>

<p>HP StoreVirtual VSA enables the following features in HP Helion OpenStack:</p>

<ul><li><p><strong>Storage clustering</strong>: It allows you to consolidate multiple storage nodes into pools of storage. The available capacity and performance is aggregated and made available to every volume in the cluster. As storage needs increase, StoreVirtual can scale performance and capacity online.</p></li>
<li><p><strong>Data availability</strong>: Network RAID strips and mirrors multiple copies of data across a cluster of storage nodes, eliminating any single point of failure in the StoreVirtual SAN. Applications have continuous data availability in the event of  power, network, disk, controller, or entire storage node failure.</p></li>
<li><p><strong>Thin provisioning</strong>: It allocates space only as data is actually written without requiring pre-allocation of storage. This raises the overall utilization and efficiency and thus increases the Return on Investment(ROI).</p></li>
<li><p><strong>Simplified data protection</strong>: Snapshots create thinly provisioned, instant point-in-time copies of data on a per-volume basis. As an administrator, you can access snapshots to recover individual files/folders from the volume, or rollback an entire volume to a prior state.</p></li>
<li><p><strong>Centralized Management Console (CMC)</strong>: Multiple data centers and sites can be managed from an all inclusive "single pane-of-glass." All  StoreVirtual SAN features are managed from the Centralized Management Console (CMC) for simple, easy-to-manage storage.</p></li>
</ul><h3 id="hp-storevirtual-dep-platform">HP StoreVirtual Deployment Models supported in HP Helion OpenStack</h3>

<p>The following diagram displays the different development platforms supported in HP Helion OpenStack.</p>

<p>
  <img src="../../../../content/documentation/media/storevitual-development-platform.png" />
</p>

<p>There are three supported models for deploying StoreVirtual in HP Helion OpenStack:</p>

<ol><li>You can deploy and configure dedicated HP StoreVirtual VSA Storage nodes using the HP Helion OpenStack TripleO/Heat-based Installer. Licenses for these VSA nodes are included for use from HP Helion OpenStack Compute Cloud Nodes only.</li>
<li>User deploys and configures StoreVirtual VSA in VMware ESX platform, and maps these to Cinder backends. Licenses for these must be separately procured and are not included with HP Helion OpenStack.</li>
<li>User installs StoreVirtual P4000 devices rather than using StoreVirtual VSA. These devices must be separately procured and are not included with HP Helion OpenStack.</li>
</ol><h2 id="cinder-architecture">Cinder architecture</h2>

<p>Cinder is the block-based storage component of the HP  Helion OpenStack platform for cloud computing. It facilitates the provisioning of storage in the form of block devices known as Cinder volumes. In the most common scenario, the Cinder volumes provide persistent storage to guest virtual machines (known as instances) that are managed by OpenStack Compute software. Cinder is based on the distributed architecture which can scale horizontally and serve concurrent volume management requests.</p>

<p>Cinder consists of three basic services:</p>

<ul><li><p><strong>Cinder API</strong></p></li>
<li><p><strong>Cinder scheduler</strong></p></li>
<li><p><strong>Cinder volume</strong> <em>along with an underlying dedicated database</em></p></li>
</ul><p>
  <img src="../../../../content/documentation/media/storevirtual-cinder-api.png" />
</p>

<h3 id="cinder-api">Cinder API</h3>

<p>Cinder API is a REST based interface to perform volume operations. As an end-user, you can accomplish volume operations without worrying about the storage  backend device used to provide the actual storage. The following volume operations are supported:</p>

<ol><li>Create volumes</li>
<li>Delete volumes</li>
<li>Extend volumes</li>
<li>Attach volumes</li>
<li>Detach volumes</li>
<li>Create snapshots</li>
<li>Delete snapshots</li>
<li>Create volumes from snapshots</li>
<li>Create cloned volumes</li>
<li>Copy images to volumes</li>
<li>Copy volumes to images
<!--12. Volume Backup to Swift
13. Volume Restore from Swift-->
<!---12.    Volume migration(backend assisted).--></li>
</ol><h3 id="scheduler">Scheduler</h3>

<p>The Cinder Scheduler tracks various backend capabilities and chooses the backend to place a new volume on. There are various configurable plugins for the scheduler. Filter scheduler has filters and weighers which help in deciding the backend to be used for a new volume request. The selection criteria includes the filters like- volume type, available free space, QoS specs, Extra specs etc. Scheduler ensures that the volumes are uniformly spread across all available backend devices.</p>

<h3 id="cinder-volume">Cinder Volume and LeftHand driver</h3>

<p>Once the Scheduler determines the backend to be used, the Cinder volume performs the actual operations against the backend.</p>

<p>The Cinder volume service hosts the LeftHand Driver to communicate with the backend representing the StoreVirtual cluster, using the LeftHand REST API.</p>

<p><strong>Note:</strong> The HPLeftHandISCSIDriver is based on the Block Storage service (Cinder) plug-in architecture. Volume operations are run by communicating with the HP LeftHand/StoreVirtual system over HTTPS, or SSH connections. 
For more details on the Lefthand driver, refer to <a href="../../../../../external.html?link=http://docs.openstack.org/trunk/config-reference/content/HP-LeftHand-StoreVirtual-driver.html">HP LeftHand/StoreVirtual driver</a>.</p>

<p>When you configure multiple StoreVirtual backends, one cinder-volume is launched for each back-end storage or back-end storage pool. Each backend instance maps to an instance of a StoreVirtual cluster. Each cluster listens at an assigned VIP that is configured in the Cinder backend entry in <em>cinder.conf</em>.</p>

<h3 id="differentiated-storage-offerings">Differentiated Storage Offerings</h3>

<p>HP Helion OpenStack uses StoreVirtual as a backend to Cinder to realize horizontally scalable block storage. StoreVirtual is unique in the sense that storage controller runs as a virtual appliance and helps realize Software Defined Block Storage.</p>

<p>Cinder provides the concept of volume types to represent differentiated storage offerings based on various performance outputs, quality of service and backend devices that are used to realize cloud storage. Essentially, a volume type is mapped to one or more backends of similar capabilities as illustrated in figure below:</p>

<p>
  <img src="../../../../content/documentation/media/storevirtual-volume-mapping-new.png" />
</p>

<p>As a cloud administrator, you can create volume types to specify the storage offerings of the cloud and  configure Cinder with backends which have the ability to serve storage characteristics represented by the volume types. For example, as a cloud admin, you have the following storage capabilities:</p>

<p><strong>1. Low Cost, Low Performance, High Capacity Storage</strong> (Bronze)</p>

<p><strong>2. Medium Cost, Medium Performance, Medium Capacity Storage</strong> (Silver)</p>

<p><strong>3. High Cost, High Performance, Low Capacity Storage</strong> (Gold)</p>

<p>Then, as the cloud administrator, you need to create three volume types – bronze, silver and gold – and configure Cinder with three different backends. Each backend needs to be mapped to bronze, silver and gold, respectively.</p>

<p>Differentiated storage offerings based on performance and quality can be realized in HP Helion OpenStack by creating clusters of different capabilities, configuring clusters as backends and mapping these backends to different volume types as suggested above.</p>

<h2 id="scale-out-vsa">Scale Out Cinder Block Storage with StoreVirtual VSA</h2>

<p>The following diagram displays a reference design that is used as a starting point for scale out Cinder Block Storage with HP StoreVirtual VSA.</p>

<p>
  <img src="../../../../content/documentation/media/storevirtual-scale-out-vsa.png" />
</p>

<p>The sizing of the StoreVirtual VSA Management Groups, Clusters and Instances is an intricate exercise used in balancing various parameters and preferences and should be done to optimize configurations for your specific deployment.</p>

<h2 id="next-steps">Next Step</h2>

<ul><li><a href="index.html">Deploy and Configure HP StoreVirtual VSA</a></li>
</ul><p>
  <a href="#top" style="padding:14px 0px 14px 0px; text-decoration: none;"> Return to Top ↑ </a>
</p>

<hr />
	</article>
</div>

<div id="sidebar" class="grid_5 top-spacer">
	<aside class="signup-box">
		<p class="align-center">
			Start using HP Cloud<br>
			<a href="../../../../../external.html?link=https://helion.hpwsportal.com/#/Home/Show" class="signup-button-orange gutter-top-half">Sign Up Now</a>
		</p>
	</aside>
	<aside class="box section-navigation">
  
     
  
  <ul>
    
      
      
      <li>
        <a class="" href="../../../../index.html"><span>HP Helion Documentation</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../index.html"><span>HP Helion OpenStack Documentation Home</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../release-notes/101/index.html"><span>Release Notes</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../faq/index.html"><span>FAQ</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../technical-overview/index.html"><span>Technical Overview</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../services/overview/index.html"><span>Services Overview</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../support-matrix/index.html"><span>Support Matrix</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../overview/index.html"><span>Installation Overview</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../security/index.html"><span>Network Security</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../backup.restore/index.html"><span>Back Up and Restore</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../services/troubleshooting/index.html"><span>Troubleshooting</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../related-links/index.html"><span>Related Documentation</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../glossary/index.html"><span>Glossary</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../eula/index.html"><span>End User License Agreement</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../3rd-party-license-agreements/index.html"><span>Open Source and Third-Party Software License Agreements</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../siteindex/index.html"><span>Site Index</span></a>
      </li>
    
  </ul>
</aside>
</div>

			</div> <!-- #main -->
		</div> <!-- #main-container -->
	</div> <!-- #wrapper -->

		
  <footer class="footer">
    <div class="container_16">
    	<div class="wrapper grid_16">
    		<ul class="footer-social">
    			<li class="twitter"><a href="../../../../../external.html?link=https://twitter.com/hphelioncloud"></a></li>
    			<li class="youtube"><a href="../../../../../external.html?link=http://www.youtube.com/hpcloud"></a></li>
    			<li class="rss"><a href="../../../../../external.html?link=http://h30499.www3.hp.com/hpeb/rss/board?board.id=sws-661"></a></li>
    			<li class="facebook"><a href="../../../../../external.html?link=https://www.facebook.com/HPCloud"></a></li>
    			<li class="linkedin stretch"><a href="../../../../../external.html?link=https://www.linkedin.com/company/hewlett-packard"></a></li>
    		</ul>
    		<ul class="contact-info">
    			<li>In the U.S.<br />1-855-61CLOUD</li>
    			<li>Worldwide<br />+1678-745-9010</li>
    			<li class="col-3">Online Support<br /><a href="mailto:support@hpcloud.com">Email</a> 
				<!-- comment out per JC
				or <span class="link" onclick="jQuery('#hpcloud-chat-button a').click();">Chat with us</span>
				-->
				</li>
    		</ul>
    		<div class="copyright">
    			<p>The OpenStack&reg; Word Mark and OpenStack Logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.</p><br />
    			<p>&copy; 2014 Hewlett-Packard Development Company, L.P.<br /><a href="../../../../../external.html?link=http://www.hpcloud.com/legal-documents">HP Cloud legal documents and privacy policy</a></p>
    		</div>
    	</div>
    </div>
  </footer>

	<script src="../../../../../ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="../../../../../ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../../../js/jquery-1.8.2f.min.html"><\/script>')</script>

  <script src="../../../../js/combined.js"></script>
  <script>
      __HP_CHAT_CONF = {};
      __HP_CHAT_CONF.sales = true;
      __HP_CHAT_CONF.support = true;
    </script>
	
    <script> //removed per JC
    //(function($, window) {
    //    $(window).load(function() {
    //    var sNew = document.createElement("script");
    //  sNew.async = true;
    //sNew.src = 'https://a248.e.akamai.net/cdn.hpcloudsvc.com/gcbb18d905d32174e6eb205943b0dea4a/prodae1/chat.js';
    //var s0 = document.getElementsByTagName('script')[0];
    //s0.parentNode.insertBefore(sNew, s0);
    //});
    //})(jQuery, this);
    </script>
    <script>
        //Executes your code when the DOM is ready.  Acts the same as $(document).ready().
        function styleRestCmds() {
            $("h5:contains('GET')").addClass('rest_cmd cmd_get');
            $("h5:contains('POST')").addClass('rest_cmd cmd_post');
            $("h5:contains('FormPOST')").removeClass('rest_cmd cmd_post');
            $("h5:contains('PUT')").addClass('rest_cmd cmd_put');
            $("h5:contains('COPY')").addClass('rest_cmd cmd_copy');
            $("h5:contains('PATCH')").addClass('rest_cmd cmd_patch');
            $("h5:contains('HEAD')").addClass('rest_cmd cmd_head');
            $("h5:contains('DELETE')").addClass('rest_cmd cmd_delete');
        }

        $(function() {
            //Calls the tocify method on your HTML div.
            $("#toc").tocify({
                'selectors': 'h2,h3,h4',
                'showAndHideOnScroll': false,
                'hideEffect': 'slideUp',
                'scrollTo': 55    // Amount of space between top of page and selected content
              }
            );
            // Style the REST commands
            styleRestCmds();
        });
    </script>
</body>

<!-- Mirrored from docs.hpcloud.com/helion/openstack/install/vsa/overview by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Feb 2015 15:04:20 GMT -->
</html>

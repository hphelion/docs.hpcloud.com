<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<!-- Mirrored from docs.hpcloud.com/helion/openstack/GA1/services/object/pyringos/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Feb 2015 14:59:20 GMT -->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>HP Helion OpenStack&#174; Pyringos</title>
	
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="shortcut icon" href="../../../../../../favicon.ico" type="image/vnd.microsoft.icon" />
  <link rel="stylesheet" href="../../../../../../css/combined.css">

	<script src="../../../../../../js/modernizr-2.5.3.min.js"></script>
	<script src="../../../../../../js/metrics.js"></script> 
</head>
<body>
  <div id="wrapper">
    <!--[if lt IE 7]>
    	<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->
    <div class="header-container">
      <header class="header">
      	<div class="top-bar" style="height: 75px;">
		
      		<div class="search-wrapper wrapper container_16">
			
      			<a href="#" class="sales-rep show-320 show-480 hide-768"><span aria-hidden="true" class="icon-icon-sales-rep"></span></a>
      			<nav class="sub-nav" >
				<a href="../../../../../../index.html" class="logo"  ><img src="../../../../../../images/HP_Helion_logo_72.png" style="position: absolute;top: 10px;" alt="HP Helion" /></a>
        			<ul>
					
 

         
        				<li><a href="../../../../../../../external.html?link=http://www8.hp.com/us/en/cloud/helion-portfolio.html">Helion@HP</a></li>
						<li><a href="../../../../../../../external.html?link=https://h30580.www3.hp.com/">Support</a></li>
        				<li><a href="mailto:heliondocs@hp.com">Contact</a></li>
						
        				 
        			</ul>
      			</nav>
          </div>
      	</div>
		<!-- per JC
      	<div class="nav-wrapper wrapper container_16">
        	<a href="http://www.hpcloud.com/" class="logo"><img src="/images/HP_Helion_logo_72.png" alt="HP Helion" /></a>
      		<nav class="nav hide-320 show-768">
      			<ul>
      				<li><a href="http://hpcloud.com/products-services">Products <span>& Services</span></a></li>
      				<li><a href="http://hpcloud.com/solutions">Cloud <span>Solutions</span></a></li>
      				<li><a href="http://hpcloud.com/why-hp-cloud">Why HP <span>Cloud?</span></a></li>
      				<li><a href="http://hpcloud.com/learning-center">Learning <span>Center</span></a></li>
      				<li><a href="http://hpcloud.com/blog">The <span>Blog</span></a></li>
      				<li><a href="http://hpcloud.com/free-trial">Sign Up <span>Today</span></a></li>
      			</ul>
      		</nav>
      	</div>
		-->
      </header>
    </div>
		<div id="main-container">
			<div id="main" class="wrapper clearfix container_16">
				<div id="content" class="grid_10 suffix_1">
	<article>
		<!--PUBLISHED-->

<script>
<![CDATA[

function PageRefresh {
onLoad="window.refresh"
}

PageRefresh();

]]>
</script><h1 id="ringos">ringos</h1>

<p>The ringos tool runs on the undercloud and helps to deploy Swift clusters.</p>

<p>You can use the following commands using the ringos Client CLI package in the undercloud.</p>

<ul><li><a href="#help">Help Commands</a></li>
<li><a href="#ring">Ring Commands</a></li>
<li><a href="#node">Node Commands</a></li>
<li><a href="#disk">Disk Commands</a></li>
<li><a href="#misc">Miscellaneous Commands</a></li>
</ul><h2 id="help-commands">Help Commands<a name="help" id="help"></a></h2>

<h3 id="help">Help</h3>

<p>You can display the help of this program or one of its sub-programs</p>

<pre>
  <code># ringos help
</code>
</pre>

<h3 id="help-subcommand">Help subcommand</h3>

<p>You get two sets of arguments- Positional and Optional.</p>

<pre>
  <code># ringos help &lt;sub-command&gt;
</code>
</pre>

<p>The following command line are used to perform ringos activities.</p>

<h2 id="ring-commands">Ring Commands<a name="ring" id="ring"></a></h2>

<h3 id="create-ring">Create ring<a name="create-ring" id="create-ring"></a></h3>

<p>Create a ring based on part_power, replicas, and min_part_hours.</p>

<pre>
  <code># ringos create-ring -f &lt;BUILDER&gt; -p &lt;PART_POWER&gt; -r &lt;REPLICAS&gt; -m &lt;MIN_PART_HOURS&gt;
</code>
</pre>

<p>In the following example, we use one zone each partition power =10, replicas =3, min_part_hours =1</p>

<pre>
  <code># ringos create-ring -f /root/ring-building/object-1.builder -p 10 -r 3 -m 1

Created ring /root/ring-building/object-1.builder
</code>
</pre>

<h3 id="add-disk-to-a-ring">Add disk to a ring<a name="add-disk-to-ring" id="add-disk-to-ring"></a></h3>

<p>Adding a ring to a disk.</p>

<pre>
  <code># ringos add-disk-to-ring -f &lt;BUILDER&gt; -i &lt;IP&gt; [-p &lt;PORT&gt;] -d &lt;DISK&gt; -w &lt;WEIGHT&gt; [-r &lt;REGION&gt;] [-z &lt;ZONE&gt;] 
</code>
</pre>

<ul><li>&lt;BUILDER&gt;: builder file.</li>
<li>&lt;IP&gt;: IP address of  Swift nodes (Object node, Proxy node, Container node, and starter nodes)</li>
<li>&lt;PORT&gt;: port number.</li>
<li>&lt;DISK&gt;: Disk label                </li>
<li>&lt;WEIGHT&gt;: Weight.</li>
<li>&lt;REGION&gt;:region </li>
<li>&lt;ZONE&gt;: Single point failure within a cluster</li>
</ul><!---
In the following example a disk is added to a ring:

    # ringos add-disk-to-ring -f /root/ring-building/object-1.builder -i  192.0.2.29 -p  6000 -d a1410063335 -w 100 -r 1 -z 1
    
    Added disk 192.0.2.29:a1410063335 to ring
---><h3 id="view-a-ring">View a ring<a name="view-ring" id="view-ring"></a></h3>

<p>View contents of a given ring.</p>

<pre>
  <code># ringos view-ring -f &lt;BUILDER&gt;
</code>
</pre>

<!---
In the following example, you can view the content of the ring

    # ringos view-ring -f /root/ring-building/object-1.builder 
    
    object-1.builder,build version 9 
    
    1024 partitions,3.000000 replicas, 1 regions, 3 zones, 9 devices, 100.00 balance
    
    The minimum number of hours before a partition can be reassigned is 1
    
    Devices:   id  region zone      ip address  port  replication ip  replication port      name weight partitions balance meta
    
      0         1    1               192.0.2.29  6000      192.0.2.29      6000        a1410063335    100.00          0-100.00
--->

<h3 id="re-balance-a-ring">Re-balance a ring<a name="rebalance-ring" id="rebalance-ring"></a></h3>

<p>Re-balances a given ring after adding disk to the ring.</p>

<pre>
  <code># ringos rebalance-ring -f &lt;BUILDER&gt;
</code>
</pre>

<h3 id="copy-a-ring-">Copy a ring <a name="copy-ring" id="copy-ring"></a></h3>

<ul><li><p>Copies ring to the available nodes.</p>

<p># ringos copy-ring -s <ring> -n <node></node></ring></p></li>
</ul><p>For example:</p>

<pre>
  <code># ringos copy-ring -s /root/ring-building/\*.ring.gz -n &lt;IP address of Swift nodes&gt;
</code>
</pre>

<ul><li><p>Copies rings to all nodes</p>

<pre><code># ringos copy-ring -s /root/ring-building/\*.ring.gz -n all
</code></pre></li>
</ul><h3 id="remove-a-disk-from-the-ring">Remove a disk from the ring<a name="remove-disk-from-ring" id="remove-disk-from-ring"></a></h3>

<p>In case of failure you can removes a given disk from ring.</p>

<pre>
  <code># ringos remove-disk-from-ring -f &lt;BUILDER&gt; -s &lt;SEARCH_VAL&gt;
</code>
</pre>

<p>For example:</p>

<pre>
  <code># ringos remove-disk-from-ring -f /root/ring-building/object-1.builder -s d0
</code>
</pre>

<h3 id="validate-a-ring">Validate a Ring<a name="validate-ring" id="validate-ring"></a></h3>

<p>Run validate routine on the ring.</p>

<pre>
  <code># ringos validate-ring -f &lt;BUILDER&gt;
</code>
</pre>

<h3 id="search-for-a-ring">Search for a Ring<a name="search-ring" id="search-ring"></a></h3>

<p>Shows information about matching devices.</p>

<pre>
  <code># ringos search-ring -f &lt;BUILDER&gt; -s &lt;SEARCH_VAL&gt;
</code>
</pre>

<h3 id="write-to-a-ring">Write to a Ring<a name="write-ring" id="write-ring"></a></h3>

<p>Writes the builder contents onto a ring file.</p>

<pre>
  <code># ringos write-ring -f &lt;BUILDER&gt;
</code>
</pre>

<h2 id="node-commands">Node Commands<a name="node" id="node"></a></h2>

<h3 id="list-swift-nodes">List Swift nodes<a name="list-swift-nodes" id="list-swift-nodes"></a></h3>

<p>List the available Swift nodes (starter, contianer, proxy, and object nodes) in the cloud.</p>

<pre>
  <code># ringos list-swift-nodes -t &lt;TYPE&gt;
</code>
</pre>

<h3 id="list-disks-in-nodes">List disks in nodes<a name="list-disks" id="list-disks"></a></h3>

<p>List disks and size of the disks on a given node.</p>

<pre>
  <code># ringos list-disks -n &lt;NODE&gt; -u heat admin
</code>
</pre>

<h2 id="disk-commands">Disk Commands<a name="disk" id="disk"></a></h2>

<h3 id="format-and-mount-disks-">Format and Mount Disks <a name="format-disks" id="format-disks"></a></h3>

<p>To format and mount all the available disks on a node.</p>

<pre>
  <code># ringos format-disks -n &lt;IP address of the node&gt; -u heat-admin -d all
</code>
</pre>

<p>To format a specific disk.</p>

<pre>
  <code># ringos format-disks -n &lt;IP address of the node&gt; -u heat-admin -d &lt;DISK&gt; [-l &lt;LABEL&gt;]
</code>
</pre>

<h3 id="set-weight-to-disk">Set weight to disk<a name="weight-disk" id="weight-disk"></a></h3>

<p>To set the weight gradually or remove gradually.</p>

<pre>
  <code># ringos set-weight -f &lt;BUILDER&gt; -s &lt;SEARCH_VAL&gt; -w &lt;WEIGHT&gt;
</code>
</pre>

<p>For example:</p>

<pre>
  <code># ringos set-weight -f object-1.builder -s d5 -w 0
</code>
</pre>

<h2 id="miscellaneous-commands">Miscellaneous Commands<a name="misc" id="misc"></a></h2>

<h3 id="set-replica">Set replica</h3>

<p>Change replica count to given replicas</p>

<pre>
  <code># ringos set-replicas -f &lt;BUILDER&gt; -r &lt;REPLICAS&gt;
</code>
</pre>

<h3 id="set-information">Set information</h3>

<p>Set info of disk(s) matching search value</p>

<pre>
  <code># ringos set-info -f &lt;BUILDER&gt; -s &lt;SEARCH_VAL&gt; -i &lt;INFO&gt;
</code>
</pre>

<h3 id="set-min-part-hours">set min part hours</h3>

<p>Set min_part_hours for the given ring</p>

<pre>
  <code># ringos set-min-part-hours -f &lt;BUILDER&gt; -m &lt;MIN_PART_HOURS&gt;
</code>
</pre>

<h3 id="bash-completion">Bash completion</h3>

<p>Prints all of the commands and options to the standard output.</p>

<pre>
  <code># ringos bash-completion
</code>
</pre>

<p>
  <a href="#top" style="padding:14px 0px 14px 0px; text-decoration: none;"> Return to Top ↑ </a>
</p>

<hr />
	</article>
</div>

<div id="sidebar" class="grid_5 top-spacer">
	<aside class="signup-box">
		<p class="align-center">
			Start using HP Cloud<br>
			<a href="../../../../../../../external.html?link=https://helion.hpwsportal.com/#/Home/Show" class="signup-button-orange gutter-top-half">Sign Up Now</a>
		</p>
	</aside>
	<aside class="box section-navigation">
  
     
  
  <ul>
    
      
      
      <li>
        <a class="" href="../../../../../../index.html"><span>HP Helion Documentation</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../index.html"><span>HP Helion OpenStack Documentation Home</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../release-notes/101/index.html"><span>Release Notes</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../faq/index.html"><span>FAQ</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../technical-overview/index.html"><span>Technical Overview</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../services/overview/index.html"><span>Services Overview</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../support-matrix/index.html"><span>Support Matrix</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../install/overview/index.html"><span>Installation Overview</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../install/security/index.html"><span>Network Security</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../backup.restore/index.html"><span>Back Up and Restore</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../services/troubleshooting/index.html"><span>Troubleshooting</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../related-links/index.html"><span>Related Documentation</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../glossary/index.html"><span>Glossary</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../eula/index.html"><span>End User License Agreement</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../3rd-party-license-agreements/index.html"><span>Open Source and Third-Party Software License Agreements</span></a>
      </li>
    
      
      
      <li>
        <a class="" href="../../../../siteindex/index.html"><span>Site Index</span></a>
      </li>
    
  </ul>
</aside>
</div>

			</div> <!-- #main -->
		</div> <!-- #main-container -->
	</div> <!-- #wrapper -->

		
  <footer class="footer">
    <div class="container_16">
    	<div class="wrapper grid_16">
    		<ul class="footer-social">
    			<li class="twitter"><a href="../../../../../../../external.html?link=https://twitter.com/hphelioncloud"></a></li>
    			<li class="youtube"><a href="../../../../../../../external.html?link=http://www.youtube.com/hpcloud"></a></li>
    			<li class="rss"><a href="../../../../../../../external.html?link=http://h30499.www3.hp.com/hpeb/rss/board?board.id=sws-661"></a></li>
    			<li class="facebook"><a href="../../../../../../../external.html?link=https://www.facebook.com/HPCloud"></a></li>
    			<li class="linkedin stretch"><a href="../../../../../../../external.html?link=https://www.linkedin.com/company/hewlett-packard"></a></li>
    		</ul>
    		<ul class="contact-info">
    			<li>In the U.S.<br />1-855-61CLOUD</li>
    			<li>Worldwide<br />+1678-745-9010</li>
    			<li class="col-3">Online Support<br /><a href="mailto:support@hpcloud.com">Email</a> 
				<!-- comment out per JC
				or <span class="link" onclick="jQuery('#hpcloud-chat-button a').click();">Chat with us</span>
				-->
				</li>
    		</ul>
    		<div class="copyright">
    			<p>The OpenStack&reg; Word Mark and OpenStack Logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.</p><br />
    			<p>&copy; 2014 Hewlett-Packard Development Company, L.P.<br /><a href="../../../../../../../external.html?link=http://www.hpcloud.com/legal-documents">HP Cloud legal documents and privacy policy</a></p>
    		</div>
    	</div>
    </div>
  </footer>

	<script src="../../../../../../../ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="../../../../../../../ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../../../../../js/jquery-1.8.2f.min.html"><\/script>')</script>

  <script src="../../../../../../js/combined.js"></script>
  <script>
      __HP_CHAT_CONF = {};
      __HP_CHAT_CONF.sales = true;
      __HP_CHAT_CONF.support = true;
    </script>
	
    <script> //removed per JC
    //(function($, window) {
    //    $(window).load(function() {
    //    var sNew = document.createElement("script");
    //  sNew.async = true;
    //sNew.src = 'https://a248.e.akamai.net/cdn.hpcloudsvc.com/gcbb18d905d32174e6eb205943b0dea4a/prodae1/chat.js';
    //var s0 = document.getElementsByTagName('script')[0];
    //s0.parentNode.insertBefore(sNew, s0);
    //});
    //})(jQuery, this);
    </script>
    <script>
        //Executes your code when the DOM is ready.  Acts the same as $(document).ready().
        function styleRestCmds() {
            $("h5:contains('GET')").addClass('rest_cmd cmd_get');
            $("h5:contains('POST')").addClass('rest_cmd cmd_post');
            $("h5:contains('FormPOST')").removeClass('rest_cmd cmd_post');
            $("h5:contains('PUT')").addClass('rest_cmd cmd_put');
            $("h5:contains('COPY')").addClass('rest_cmd cmd_copy');
            $("h5:contains('PATCH')").addClass('rest_cmd cmd_patch');
            $("h5:contains('HEAD')").addClass('rest_cmd cmd_head');
            $("h5:contains('DELETE')").addClass('rest_cmd cmd_delete');
        }

        $(function() {
            //Calls the tocify method on your HTML div.
            $("#toc").tocify({
                'selectors': 'h2,h3,h4',
                'showAndHideOnScroll': false,
                'hideEffect': 'slideUp',
                'scrollTo': 55    // Amount of space between top of page and selected content
              }
            );
            // Style the REST commands
            styleRestCmds();
        });
    </script>
</body>

<!-- Mirrored from docs.hpcloud.com/helion/openstack/GA1/services/object/pyringos/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Feb 2015 14:59:20 GMT -->
</html>
